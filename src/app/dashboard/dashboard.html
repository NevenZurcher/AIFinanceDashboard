<div class="dashboard-container">
  <!-- Header -->
  <header class="dashboard-header glass-card animate-fade-in">
    <div class="header-content">
      <div>
        <h1 class="m-0">Financial Dashboard</h1>
        <p class="text-secondary m-0">Welcome back! Here's your financial overview.</p>
      </div>
      <button class="btn-primary">
        <lucide-icon [img]="Sparkles" [size]="18"></lucide-icon>
        Generate AI Insights
      </button>
    </div>
  </header>

  <!-- Summary Cards -->
  <section class="summary-section animate-slide-up">
    <div class="summary-grid">
      <!-- Total Balance Card -->
      <div class="summary-card glass-card">
        <div class="card-icon" style="background: linear-gradient(135deg, #0891B2, #06B6D4);">
          <lucide-icon [img]="TrendingUp" [size]="28" [strokeWidth]="2"></lucide-icon>
        </div>
        <div class="card-content">
          <p class="card-label">Total Balance</p>
          <h2 class="card-value">${{ totalBalance.toFixed(2) }}</h2>
          <p class="card-change text-success">
            <span>↑</span> 12.5% from last month
          </p>
        </div>
      </div>

      <!-- Monthly Income Card -->
      <div class="summary-card glass-card">
        <div class="card-icon" style="background: linear-gradient(135deg, #10B981, #34D399);">
          <lucide-icon [img]="ArrowUpRight" [size]="28" [strokeWidth]="2"></lucide-icon>
        </div>
        <div class="card-content">
          <p class="card-label">Monthly Income</p>
          <h2 class="card-value">${{ monthlyIncome.toFixed(2) }}</h2>
          <p class="card-change text-success">
            <span>↑</span> 8.2% from last month
          </p>
        </div>
      </div>

      <!-- Monthly Expenses Card -->
      <div class="summary-card glass-card">
        <div class="card-icon" style="background: linear-gradient(135deg, #F43F5E, #FB7185);">
          <lucide-icon [img]="ArrowDownRight" [size]="28" [strokeWidth]="2"></lucide-icon>
        </div>
        <div class="card-content">
          <p class="card-label">Monthly Expenses</p>
          <h2 class="card-value">${{ monthlyExpenses.toFixed(2) }}</h2>
          <p class="card-change text-error">
            <span>↓</span> 3.1% from last month
          </p>
        </div>
      </div>

      <!-- Savings Rate Card -->
      <div class="summary-card glass-card">
        <div class="card-icon" style="background: linear-gradient(135deg, #F59E0B, #FBBF24);">
          <lucide-icon [img]="Target" [size]="28" [strokeWidth]="2"></lucide-icon>
        </div>
        <div class="card-content">
          <p class="card-label">Savings Rate</p>
          <h2 class="card-value">{{ savingsRate.toFixed(1) }}%</h2>
          <p class="card-change text-success">
            <span>↑</span> 5.3% from last month
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Charts Section -->
  <section class="charts-section">
    <div class="charts-grid">
      <!-- Spending by Category -->
      <div class="chart-card glass-card animate-slide-up">
        <h3>Spending by Category</h3>
        <div class="chart-container">
          <canvas id="categoryChart"></canvas>
        </div>
      </div>

      <!-- Income vs Expenses Trend -->
      <div class="chart-card glass-card animate-slide-up">
        <h3>Income vs Expenses Trend</h3>
        <div class="chart-container">
          <canvas id="trendChart"></canvas>
        </div>
      </div>
    </div>
  </section>

  <!-- AI Insights & Recent Transactions -->
  <section class="bottom-section">
    <div class="bottom-grid">
      <!-- AI Insights -->
      <div class="insights-card glass-card animate-slide-up">
        <div class="section-header">
          <h3><lucide-icon [img]="Sparkles" [size]="20" [strokeWidth]="2" style="display: inline-block; vertical-align: middle; margin-right: 8px;"></lucide-icon>AI Insights</h3>
          <button class="btn-text">View All</button>
        </div>
        <div class="insights-list">
          <div *ngFor="let insight of aiInsights" 
               class="insight-item"
               [ngClass]="'insight-' + insight.type">
            <div class="insight-icon">
              <lucide-icon 
                [img]="insight.type === 'success' ? CheckCircle : insight.type === 'warning' ? AlertTriangle : Info" 
                [size]="20" 
                [strokeWidth]="2"
              ></lucide-icon>
            </div>
            <div class="insight-content">
              <h4>{{ insight.title }}</h4>
              <p>{{ insight.description }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Transactions -->
      <div class="transactions-card glass-card animate-slide-up">
        <div class="section-header">
          <h3>Recent Transactions</h3>
          <button class="btn-text">View All</button>
        </div>
        <div class="transactions-list">
          <div *ngFor="let transaction of transactions.slice(0, 6)" class="transaction-item">
            <div class="transaction-icon" 
                 [ngClass]="transaction.type === 'income' ? 'icon-income' : 'icon-expense'">
              <lucide-icon 
                [img]="transaction.type === 'income' ? ArrowDown : ArrowUp" 
                [size]="18" 
                [strokeWidth]="2.5"
              ></lucide-icon>
            </div>
            <div class="transaction-details">
              <p class="transaction-description">{{ transaction.description }}</p>
              <p class="transaction-category">{{ transaction.category }} • {{ transaction.date | date: 'MMM d' }}</p>
            </div>
            <div class="transaction-amount" 
                 [ngClass]="transaction.type === 'income' ? 'text-success' : 'text-error'">
              {{ transaction.amount > 0 ? '+' : '' }}${{ transaction.amount.toFixed(2) }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Accounts Overview -->
  <section class="accounts-section animate-slide-up">
    <div class="section-header">
      <h3>Your Accounts</h3>
      <button class="btn-secondary">+ Add Account</button>
    </div>
    <div class="accounts-grid">
      <div *ngFor="let account of accounts" class="account-card glass-card">
        <div class="account-header">
          <div class="account-icon">
            <lucide-icon 
              [img]="account.type === 'checking' ? Building2 : account.type === 'savings' ? Wallet : CreditCard" 
              [size]="24" 
              [strokeWidth]="2"
            ></lucide-icon>
          </div>
          <div class="account-info">
            <h4>{{ account.name }}</h4>
            <p class="text-secondary">{{ account.type | titlecase }}</p>
          </div>
        </div>
        <div class="account-balance">
          <p class="balance-label">Current Balance</p>
          <h3 [ngClass]="account.balance < 0 ? 'text-error' : 'text-primary'">
            ${{ account.balance.toFixed(2) }}
          </h3>
        </div>
      </div>
    </div>
  </section>
</div>
